<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // 假设按照升序排序的数组在预先未知的某个点上进行了旋转。

        // ( 例如，数组 [0,1,2,4,5,6,7] 可能变为 [4,5,6,7,0,1,2] )。

        // 搜索一个给定的目标值，如果数组中存在这个目标值，则返回它的索引，否则返回 -1 。

        // 你可以假设数组中不存在重复的元素。

        // 你的算法时间复杂度必须是 O(log n) 级别。

        // 示例 1:

        // 输入: nums = [4,5,6,7,0,1,2], target = 0
        // 输出: 4
        let nums = [4,5,6,7,0,1,2,3], target = 4

        let search = function (nums, target) {
            let l = 0;
            let r = nums.length - 1;
            while (l < r) {
                let m = Math.floor((l + r) / 2);
                if (nums[m] === target) {
                    return m;
                }
                if (nums[m] > target) {
                    if (nums[m] > nums[r] && nums[l] > target) {
                        l = m + 1;
                    } else {
                        r = m - 1;
                    }
                } else {
                    if (nums[m] < nums[r] && nums[r] < target) {
                        r = m - 1;
                    } else {
                        l = m + 1;
                    }
                }
            }
            return -1;
        };

        let search1 = function (nums,target) {
            let l = 0;
            let r = nums.length-1;
            while( l <= r) {
                let center = Math.floor( (l+r)/2);
                if(nums[center] === target) return center;

                if(nums[center] > nums[l]){
                    if(target >= nums[l] && target <= nums[center]){
                        r = center-1
                    }else{
                        l = center+1
                    }
                }else{
                    if(target >= nums[center] && target <= nums[r]){
                        l = center+1
                    }else{
                        r = center-1
                    }
                }
                console.log(l,r);
            }
            return -1
        }
        console.log(search(nums,target))
    </script>
</body>

</html>